<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
  <meta charset="UTF-8">
  <title>真度商城</title>
  <link rel="stylesheet" href="./css/base.css">
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./js/swiper/css/swiper.min.css">
  <link rel="stylesheet" href="./js/mescroll-master/mescroll.min.css">
  <script>
    window.addEventListener("resize",function(event){      
      getFontsize();
    });
    getFontsize();
    function getFontsize() {
      var html = document.documentElement;
      var hWidth = html.getBoundingClientRect()["width"];
      html.style.fontSize = (hWidth > 750) ? '20px' : hWidth / 37.5 + "px";
    }
  </script>
</head>
<body>
  <div class="main index mescroll shoppingMall" id="mescroll">
  	<div class="shopping-mall-top">
	  	<div class="shopping-mall-con">
	  		<a href="#" class="shopping-nav-item">
	  			<img src="./images/shangcheng01.png" class="shopping-nav-img">
	  			<p class="shopping-nav-text active">精选好物</p>
	  		</a>
	  		<a href="#" class="shopping-nav-item">
	  			<img src="./images/shangcheng08.png" class="shopping-nav-img">
	  			<p class="shopping-nav-text">想象力</p>
	  		</a>
	  		<a href="#" class="shopping-nav-item">
	  			<img src="./images/shangcheng09.png" class="shopping-nav-img">
	  			<p class="shopping-nav-text">创造力</p>
	  		</a>
	  		<a href="#" class="shopping-nav-item">
	  			<img src="./images/shangcheng10.png" class="shopping-nav-img">
	  			<p class="shopping-nav-text">专注力</p>
	  		</a>
	  		<a href="#" class="shopping-nav-item">
	  			<img src="./images/shangcheng11.png" class="shopping-nav-img">
	  			<p class="shopping-nav-text">记忆力</p>
	  		</a>
	  		<a href="#" class="shopping-nav-item">
	  			<img src="./images/shangcheng12.png" class="shopping-nav-img">
	  			<p class="shopping-nav-text">观察力</p>
	  		</a>
	  	</div>
	  	<span class="classify-block"><img src="./images/fenleilb06.png"></span>
  	</div>
  	<div class="mask-dialog">
  		<div class="mask-dialog-bg"></div>
  		<div class="mask-dialog-con">
		  	<div class="change-classify">
		  		<div class="change-classify-div">
		  			<span class="classify-title">请选择分类</span>
		  			<span class="classify-block"><img src="./images/shangchengtc01.png"></span>
		  		</div>
		  		<div class="classify-item">
		  			<a href="#" class="classify-item-con active">精选好物</a>
		  			<a href="#" class="classify-item-con">精选好物</a>
		  			<a href="#" class="classify-item-con">想象力</a>
		  			<a href="#" class="classify-item-con">创造力</a>
		  			<a href="#" class="classify-item-con">专注力</a>
		  			<a href="#" class="classify-item-con">记忆力</a>
		  			<a href="#" class="classify-item-con">观察力</a>
		  		</div>
		  	</div>  			
  		</div>
  	</div>
	<div class="shopping-mall-swiper course-swiper">
	    <div class="swiper-wrapper">
			<a href="#" class="swiper-slide">
				<img src="./images/kecheng01.png">
			</a>
			<a href="#" class="swiper-slide">
				<img src="./images/kecheng01.png">
			</a>
			<a href="#" class="swiper-slide">
				<img src="./images/kecheng01.png">
			</a>
		</div>
		<div class="swiper-pagination"></div>
	</div>
    <div class="section section-four">
      <p class="four-title">真度精选</p>
      <p class="four-tip">真实而有温度的产品</p>
      <div class="section-four-con">
        <div class="four-con">
          <a href="#" class="four-item">
            <img src="./images/shouye06.png" class="four-goods-img">
            <p class="goods-title">真度·全脑训练教具卡</p>
            <p class="goods-price">179.00</p>
            <s class="goods-cost-price">原价：¥266.00</s>
          </a>
          <a href="#" class="four-item">
            <img src="./images/shouye06.png" class="four-goods-img">
            <p class="goods-title">真度·全脑训练教具卡</p>
            <p class="goods-price">179.00</p>
            <s class="goods-cost-price">原价：¥266.00</s>
          </a>
          <a href="#" class="four-item">
            <img src="./images/shouye06.png" class="four-goods-img">
            <p class="goods-title">真度·全脑训练教具卡</p>
            <p class="goods-price">179.00</p>
            <s class="goods-cost-price">原价：¥266.00</s>
          </a>
        </div>
      </div>
    </div>
    <div class="section shopping-one section-four"">
      <p class="four-title">为你推荐</p>
      <p class="four-tip">猜你所想 荐你所爱</p>
      <div class="shopping-one-con" id="shopping-list">
      </div>
    </div>
  	<a href="#" class="cart-btn"><img src="./images/fenleilb03.png"><span>0</span></a>
  </div>
  <div id="foot" class="foot">
	<a href="./1.0.0首页.html" class="foot-nav">
	<img src="./images/icon01.png" class="foot-nav-img" alt="">
	<p class="foot-nav-title">首页</p>
	</a>
	<a href="./2.0.0商城.html" class="foot-nav">
	<img src="./images/icon02.png" class="foot-nav-img" alt="">
	<p class="foot-nav-title">商城</p>
	</a>
	<a href="#" class="foot-nav">
	<img src="./images/icon07.png" class="foot-nav-img" alt="">
	<p class="foot-nav-title active">健康大使</p>
	</a>
	<a href="#" class="foot-nav">
	<img src="./images/icon04.png" class="foot-nav-img" alt="">
	<p class="foot-nav-title">我的</p>
	</a>
  </div>
</body>
<script src="./js/jquery.min.1.10.2.js"></script>
<script src="./js/swiper/js/swiper.min.js"></script>
<script src="./js/mescroll-master/mescroll.min.js"></script>
<script src="./js/mescroll-master/demo/res/pdlist1.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	var swiper = new Swiper('.shopping-mall-swiper', {
		autoplay: true,
		pagination: {
			el: '.swiper-pagination',
		},
	});

	$(function(){
		var mescroll = new MeScroll("mescroll", {
		  up: {
		    page:{size:1},//每次加载1条数据,模拟loadFull
		    loadFull: {
		      use: true, //列表数据过少,是否自动加载下一页,直到满屏或者无更多数据为止;默认false
		      delay: 500 //延时执行的毫秒数; 延时是为了保证列表数据或占位的图片都已初始化完成,且下拉刷新上拉加载中区域动画已执行完毕;
		    },
		    callback: getListData, //上拉回调,此处可简写; 相当于 callback: function (page) { getListData(page); }
		    isBounce: false, //此处禁止ios回弹,解析(务必认真阅读,特别是最后一点): http://www.mescroll.com/qa.html#q10
		    clearEmptyId: "dataList", //1.下拉刷新时会自动先清空此列表,再加入数据; 2.无任何数据时会在此列表自动提示空
		    lazyLoad: {
		      use: true
		    }
		  }
		});

		function getListData(page){
		  getListDataFromNet(page.num, page.size, function(curPageData){
		    mescroll.endSuccess(curPageData.length);
		    setListData(curPageData);
		  }, function(){
		    mescroll.endErr();
		  });
		}

		/*设置列表数据*/
		function setListData(curPageData){
		  var listDom=document.getElementById("shopping-list");
		  for (var i = 0; i < 10; i++) {
		    var pd=curPageData[i];
		    var str = '<a href="#" class="shopping-one-item">'+
			      		'<img src="./images/fenleilb01.png" class="shopping-one-img">'+
			      		'<div class="shopping-one-div">'+
			      			'<p class="shopping-one-title">真度·为睡眠而生的耳机</p>'+
			      			'<p class="shopping-one-tip">舒服隔音降噪入耳式</p>'+
			      			'<p class="clearfix">'+
			      				'<span class="fl">179.00 <s>¥266.00</s></span>'+
			      				'<span class="fr"><img src="./images/fenleilb05.png"></span>'+
			      			'</p>'+
			      		'</div>'+
			      	'</a>';
		    var liDom=document.createElement("div");
		    liDom.innerHTML=str;
		    listDom.appendChild(liDom);
		  }
		}

		function getListDataFromNet(pageNum,pageSize,successCallback,errorCallback) {
		  //延时一秒,模拟联网
		  setTimeout(function () {
		    var data=pdlist1;
		    //模拟分页数据
		    var listData=[];
		    for (var i = (pageNum-1)*pageSize; i < pageNum*pageSize; i++) {
		      if(i==data.length) break;
		      listData.push(data[i]);
		    }
		    successCallback(listData);
		  },500)
		}    
	});

	$('.shopping-mall-top .classify-block').click(function() {
		$('.mask-dialog').show();
	})
	$('.mask-dialog .mask-dialog-bg, .mask-dialog .classify-block').click(function() {
		$('.mask-dialog').hide();
	})
</script>
</html>